<title>R</title><body bgcolor=#fff style=margin:0><div id=C style="position:relative;width:256px;margin:auto">
<div style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:9;font:30px serif;pointer-events:none">+</div>
<div id=V style="display:grid;grid-template-columns:repeat(2,128px);background:#C4A484;min-height:256px"></div></div>
<div style=text-align:center><button onclick=n()>SCAN</button><p id=M style="font:9px sans-serif">...</p></div>
<script>
Z=6;S=128;V=document.getElementById('V');M=document.getElementById('M');
n=()=>navigator.geolocation.getCurrentPosition(async p=>{
M.innerText='Loading...';V.innerHTML='';
y=p.coords.latitude;x=p.coords.longitude;
v=2**Z;r=y*Math.PI/180;
X=Math.floor((x+180)/360*v);Y=Math.floor((1-Math.log(Math.tan(r)+1/Math.cos(r))/Math.PI)/2*v);
try{
let r_api=await fetch('https://api.rainviewer.com/public/weather-maps.json');
let j=await r_api.json();
let t=j.radar.past.pop().time;
for(let g=Y;g<=Y+1;g++)for(let f=X;f<=X+1;f++){
 let i=new Image();i.style.width='128px';i.style.display='block';
 i.crossOrigin="anonymous";
 // Simplified URL for maximum compatibility
 i.src=`https://tilecache.rainviewer.com/v2/radar/${t}/${S}/${Z}/${f}/${g}/1/0_0.png`;
 i.onerror=()=>M.innerText="Tile Err";
 V.appendChild(i)}
M.innerText=new Date(t*1000).toLocaleTimeString();
}catch(e){M.innerText='Sync Err'}});
</script>
